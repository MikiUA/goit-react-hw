{"version":3,"file":"static/js/938.81eb547b.chunk.js","mappings":"4PAOe,SAASA,IACtB,IAAOC,GAASC,EAAAA,EAAAA,MAATD,QACP,GAAqCE,EAAAA,EAAAA,UAAS,IAA9C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAuBF,EAAAA,EAAAA,UAAS,MAAhC,eAAOG,EAAP,KAAaC,EAAb,KAQF,OANEC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAgBR,GAASS,MACvB,SAAAC,GAAQ,OAAGN,EAAgBM,EAASC,QAA5B,IACRC,OAAM,SAAAC,GAAG,OAAEP,EAASO,EAAX,GACZ,GAAC,CAACb,IAEDK,GACFS,QAAQC,IAAIV,IACL,SAAC,IAAD,CAAcW,QAAQ,6CAG3B,SAAC,IAAD,CAASC,MAAM,UAAf,SACGd,EAAae,KAAI,gBAAEC,EAAF,EAAEA,GAAGC,EAAL,EAAKA,OAAOC,EAAZ,EAAYA,QAAZ,OAChB,UAAC,IAAD,YACA,0BAAKD,EAAL,QACA,uBAAIC,MAFUF,EADE,KASvB,C,uBCjCD,SAASG,EAA0BC,GAC/B,IAAIC,EAAY,KACgB,IAA5BD,EAAYE,QAAQ,OAAWD,EAAY,KAE/C,IAAME,EA4CgB,+BA5CEH,EAAYC,EAAtBG,2CAEd,OAAO,IAAIC,SAAQ,SAACC,EAAQC,GACxBC,MAAML,GAASjB,MAAK,SAAAC,GAChBI,QAAQC,IAAIL,GACRA,EAASsB,GAAItB,EAASuB,OAAOxB,MAAK,SAAAyB,GAClCpB,QAAQC,IAAImB,GACZL,EAAQK,EACX,IACIJ,EAAO,KACf,IAAElB,OAAM,SAAAC,GAAG,OAAGiB,EAAO,KAAV,GACf,GACJ,CAEM,SAASK,IAEZ,OAAOb,EADG,uBAEb,CAEM,SAASc,EAAgBC,GAAe,IAARC,EAAO,uDAAF,EAClCC,EAAI,uBAAD,OAAwBF,EAAxB,iBAAuCC,GAChD,OAAOhB,EAA0BiB,EACpC,CAEM,SAASC,EAAgBxC,GAE5B,OAAOsB,EADG,UAAD,OAAWtB,EAAX,mBAGZ,CAEM,SAASyC,EAAgBzC,GAE5B,OAAOsB,EADG,UAAD,OAAWtB,EAAX,2BAGZ,CAEM,SAASQ,EAAgBR,GAE5B,OAAOsB,EADG,UAAD,OAAWtB,EAAX,2BAGZ,C","sources":["hw-05-movies/pages/components/Reviews.js","hw-05-movies/pages/fetch_functions.js"],"sourcesContent":["import React, { useEffect,useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getMovieReviews } from '../fetch_functions';\n\nimport Section from 'generalComponents/Section';\nimport Notification from 'generalComponents/Notification';\n\nexport default function Reviews() {\n  const {movieID}=useParams();\n  const [movieReviews,setMovieReviews]=useState([]);\n  const [error,setError]=useState(null)\n\n  useEffect(()=>{\n    getMovieReviews(movieID).then(\n      response=> setMovieReviews(response.results)\n    ).catch(err=>setError(err))\n  },[movieID])\n  \nif (error) {\n  console.log(error);\n  return <Notification message=\"something went wrong, please try again\"/>\n}\n  return (\n    <Section title='Reviews'>\n      {movieReviews.map(({id,author,content})=>(\n        <Section key={id}>\n        <h6>{author}:</h6>\n        <p>{content}</p>\n        </Section>\n      ))\n      }\n    </Section>\n  )\n}\n","function actually_send_get_request(RelativeURL){\n    let querySymbol='?'\n    if (RelativeURL.indexOf('?')!==-1) querySymbol='&'\n\n    const fullURL=baseURL()+RelativeURL+querySymbol+'api_key='+api_key();\n\n    return new Promise((resolve,reject)=>{\n        fetch(fullURL).then(response=>{\n            console.log(response);\n            if (response.ok) response.json().then(jsonres=>{\n                console.log(jsonres);\n                resolve(jsonres)\n            });\n            else reject(null);\n        }).catch(err=> reject(null))\n    })\n}\n\nexport function getTrending(){\n    const url=`/trending/movie/week`\n    return actually_send_get_request(url);\n};\n\nexport function getSearchMovies(filter,page=1){\n    const url=`/search/movie?query=${filter}&page=${page}`\n    return actually_send_get_request(url);\n}\n\nexport function getMovieDetails(movieID){\n    const url=`/movie/${movieID}?language=en-US`\n    return actually_send_get_request(url);\n\n}\n\nexport function getMovieCredits(movieID){\n    const url=`/movie/${movieID}/credits?language=en-US`\n    return actually_send_get_request(url);\n\n}\n\nexport function getMovieReviews(movieID){\n    const url=`/movie/${movieID}/reviews?language=en-US`\n    return actually_send_get_request(url);\n\n}\n\n\n\nfunction baseURL(){return 'https://api.themoviedb.org/3'}\nfunction api_key(){return '08afc14184aa63504b5201f5497d7cf1'}"],"names":["Reviews","movieID","useParams","useState","movieReviews","setMovieReviews","error","setError","useEffect","getMovieReviews","then","response","results","catch","err","console","log","message","title","map","id","author","content","actually_send_get_request","RelativeURL","querySymbol","indexOf","fullURL","baseURL","Promise","resolve","reject","fetch","ok","json","jsonres","getTrending","getSearchMovies","filter","page","url","getMovieDetails","getMovieCredits"],"sourceRoot":""}