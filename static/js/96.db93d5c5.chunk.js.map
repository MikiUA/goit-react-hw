{"version":3,"file":"static/js/96.db93d5c5.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/hw-04-images/components/styles/Button.module.css?6421","hw-04-images/components/Button.jsx","webpack://react-homework-template/./src/hw-04-images/components/styles/ImageGalleryItem.module.css?de34","hw-04-images/components/ImageGalleryItem.jsx","hw-04-images/components/Loader.jsx","webpack://react-homework-template/./src/hw-04-images/components/styles/Modal.module.css?408c","hw-04-images/components/Modal.jsx","webpack://react-homework-template/./src/hw-04-images/components/styles/ImageGallery.module.css?6847","hw-04-images/components/ImageGallery.js","webpack://react-homework-template/./src/hw-04-images/components/styles/Searchbar.module.css?7a53","hw-04-images/components/Searchbar.jsx","hw-04-images/components/PixabayTitle.jsx","hw-04-images/App.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Button\":\"Button_Button__wIdHV\"};","import styles from \"./styles/Button.module.css\"\nexport const LoadButton = ({LoadMoreFunc}) => {\n    return (\n    <button \n        className={styles.Button}\n        onClick={()=>LoadMoreFunc()}\n    >\n        Load more\n    </button>\n)}","// extracted by mini-css-extract-plugin\nexport default {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__jRz4S\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__ygb+d\"};","import styles from './styles/ImageGalleryItem.module.css'\n\nexport const ImageGalleryItem = ({item,onClickF}) => {\n    const {webformatURL,largeImageURL} = item;\n    return (\n    <li className={styles[\"ImageGalleryItem\"]} onClick={()=>onClickF(largeImageURL)}>\n        <img className={styles[\"ImageGalleryItem-image\"]}\n        src={webformatURL} alt=\"\" />\n        <br/>\n    </li>\n)}","export const Loader = ()=>(\n    <div>\n        Loading...\n    </div>\n)","// extracted by mini-css-extract-plugin\nexport default {\"Overlay\":\"Modal_Overlay__bFO15\",\"Modal\":\"Modal_Modal__K2+VB\"};","import styles from './styles/Modal.module.css'\n\nexport const Modal=({imgSrc='',onAbortF})=>(\n    <div onClick={onAbortF} className={styles[\"Overlay\"]}>\n        <div className={styles[\"Modal\"]}>\n            <img src={imgSrc} alt=\"\" />\n        </div>\n    </div>\n)","// extracted by mini-css-extract-plugin\nexport default {\"ImageGallery\":\"ImageGallery_ImageGallery__GIWo2\"};","import React, { Component } from 'react'\nimport Notification from 'generalComponents/Notification'\nimport {ImageGalleryItem} from './ImageGalleryItem'\nimport { Loader } from './Loader'\nimport PropTypes from 'prop-types'\nimport { Modal } from './Modal'\nimport styles from './styles/ImageGallery.module.css'\n\n\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    items:PropTypes.arrayOf(\n        PropTypes.shape({\n            id:PropTypes.any.isRequired,\n            webformatURL:PropTypes.string,\n            largeImageURL:PropTypes.string\n        })\n    ),\n    isLoading:PropTypes.oneOf(['loading','updating',false])\n  }\n  state={\n    modal:''\n  }\n  render() {\n    if (this.props.isLoading==='loading') return <Loader/>\n    if (this.props.items.length===0) return <Notification message='Sorry, no images matched your search'/>\n    return (\n        <div>\n        {this.state.modal?<Modal imgSrc={this.state.modal} onAbortF={()=>this.setState({modal:''})}/>:''}\n        <ul className={styles['ImageGallery']}>\n            {this.props.items.map((item)=>(\n                <ImageGalleryItem key={item.id} item={item} onClickF={(url)=>this.setState({modal:url})}/>\n            ))}\n        </ul>\n        {this.props.isLoading==='updating'?(\n                <Loader/>\n        ):''}\n    </div>\n    )\n  }\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__LGw3V\",\"SearchForm\":\"Searchbar_SearchForm__YO7CL\",\"SearchForm-button\":\"Searchbar_SearchForm-button__wRyNk\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__gTY94\",\"SearchForm-input\":\"Searchbar_SearchForm-input__fYU4n\"};","import styles from './styles/Searchbar.module.css'\nexport const Searchbar = ({submitFunc}) => (\n    <header className={styles[\"Searchbar\"]}>\n    <form onSubmit={e=>{\n        e.preventDefault();\n        submitFunc(e.target.elements.t3Filter.value)\n        }}\n        className={styles[\"SearchForm\"]}>\n      <button type=\"submit\" className={styles[\"SearchForm-button\"]}>\n        <span className={styles[\"SearchForm-button-label\"]}>Search</span>\n      </button>\n  \n      <input\n        className={styles[\"SearchForm-input\"]}\n         id='t3Filter'\n        name=\"t3Filter\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n)","export const PixabayTitle =()=> {\nreturn <a style={{height:'100%'}} href=\"https://pixabay.com/\"><img style={{height:'100%'}} src=\"https://pixabay.com/static/img/public/leaderboard_b.png\" alt=\"Pixabay\"/></a>}","// import Notification from 'generalComponents/Notification'\nimport Section from 'generalComponents/Section'\nimport React, {useEffect, useState } from 'react'\nimport { LoadButton } from './components/Button'\nimport ImageGallery from './components/ImageGallery'\nimport { Searchbar } from './components/Searchbar'\nimport {PixabayTitle} from './components/PixabayTitle'\nimport Notification from 'generalComponents/Notification'\n\nexport default function App() {\n  const [imageList,setImageList]=useState([]);   \n    function updateImageList(newItems=[]){setImageList((prevState)=>[...prevState,...newItems]);}\n  const [filter,setFilter]=useState('');\n  const [pageNum,setPageNum]=useState(1);\n  const [isLoading,setIsLoading]=useState('loading');//loading//updating//false\n  const [isMoreAvailible,setIsMoreAvailible]=useState(false);//true/false\n  const [error,setError]=useState(null);\n\n  function newFilter(newFilter=''){\n    setFilter(newFilter);\n    setIsLoading('loading');\n    setPageNum(1);\n    setError(null);\n    setIsMoreAvailible(false);\n\n    sendRequest(newFilter).then(response=>{\n      setImageList(response.hits);\n      setIsMoreAvailible(response.totalHits>12);\n    }).catch(err=>\n      setError(err)\n    ).finally(\n      setIsLoading(false)\n    );\n  };\n  function loadMore(){\n    let newPageNum=pageNum+1;// this is to prevent request from executing before or after setState occurs\n    setPageNum(newPageNum);\n    setIsLoading('updating');\n    setError(null);\n    setIsMoreAvailible(false);\n\n    sendRequest(filter,newPageNum).then(response=>{\n      updateImageList(response.hits);\n      setIsMoreAvailible(response.totalHits>12*newPageNum);\n    }).catch(err=>\n      setError(err)\n    ).finally(\n      setIsLoading(false)\n    );\n  }\n  useEffect(()=>{newFilter()},[])\n  \n  if (error) return <Notification label='Sorry, an error has occured' message={error.message}/>\n  return (\n    <Section type='task' title={<PixabayTitle/>}>\n      <Searchbar submitFunc={newFilter}/>\n      <ImageGallery items={imageList} isLoading={isLoading}/>\n      {isMoreAvailible?\n        <LoadButton LoadMoreFunc={loadMore} />\n      :''}\n    </Section>\n  )\n  \n}\n\n\nasync function sendRequest(filter='',page=1){\n  console.log('making request...');\n  filter = filter.replaceAll(' ','%20');\n\n  const ReqUrl = `https://pixabay.com/api/?image_type=photo&key=33557563-eb5e97db1c6663d33c38bf2d1&orientation=horizontal&per_page=12&page=` +page+'&q='+filter;\n\n  return new Promise((resolve,reject)=>{\n    fetch(ReqUrl,[])\n    .then(\n      (response)=>{\n        if (!response.ok) throw response;\n        response.json().then(jsonRes=>resolve(jsonRes));\n        }\n    ).catch((err)=>{\n      reject(err);\n    })\n  })\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["LoadButton","LoadMoreFunc","className","styles","onClick","ImageGalleryItem","item","onClickF","webformatURL","largeImageURL","src","alt","Loader","Modal","imgSrc","onAbortF","ImageGallery","state","modal","this","props","isLoading","items","length","Notification","message","setState","map","url","id","Component","Searchbar","submitFunc","onSubmit","e","preventDefault","target","elements","t3Filter","value","type","name","autoComplete","autoFocus","placeholder","PixabayTitle","style","height","href","App","useState","imageList","setImageList","filter","setFilter","pageNum","setPageNum","setIsLoading","isMoreAvailible","setIsMoreAvailible","error","setError","newFilter","sendRequest","then","response","hits","totalHits","catch","err","finally","useEffect","label","Section","title","newPageNum","newItems","prevState","updateImageList","page","console","log","replaceAll","ReqUrl","Promise","resolve","reject","fetch","ok","json","jsonRes","asyncGeneratorStep","gen","_next","_throw","key","arg","info","done","_asyncToGenerator","fn","self","args","arguments","apply","undefined"],"sourceRoot":""}